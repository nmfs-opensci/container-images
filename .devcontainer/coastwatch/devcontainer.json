{
  "name": "coastwatch",
  "workspaceFolder": "/home/jovyan",
  "image": "ghcr.io/nmfs-opensci/container-images/coastwatch:latest",

  // Ports to be forwarded from the container to the host
  "forwardPorts": [8889],
  "portsAttributes": {
    "8889": {
      "label": "Jupyter Lab",
      "onAutoForward": "notify"
    }
  },
  
  // Create a README that is automatically opened in preview mode
  // the echo bit is to fix pwd in bash terminal in RStudio
  "postCreateCommand": "echo '[<img src=%22https://img.shields.io/badge/Open%20Jupyter%20Lab-37a779?style=for-the-badge%22 height=%22100%22>](https://'${CODESPACE_NAME}'-8889.app.github.dev)' > README.md && echo 'PWD=/home/jovyan\ncd ${PWD}' >> ~/.bash_login",

  // Start Jupyter Lab
  "postStartCommand": "jupyter lab --ip=0.0.0.0 --port=8889 --allow-root --no-browser --notebook-dir=/home/jovyan --NotebookApp.token='' --NotebookApp.password=''",
}
